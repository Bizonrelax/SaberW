Маркер, Маркер - два маркера подряд означают, что за ними следуют 10 кодов подряд.
Маркер, Маркер, число - следуют 10 + число кодов подряд.
___
Склонения слов:
1. Мнение
2. Мнения
3. Мнением
4. Мнений
Общие 5 букв. Их кодировать. Использовать особый параметр кодирования, так как за словом нет пробела.
___
Игнорировать комментарии - не сжимать их и не добавлять в сжатый текст. Если эти комментарии - часть программного кода. Нейросеть без комментариев разберётся.
___
```
Вау! У меня идея!
Маркер не нужен. Коды уникальны и их нельзя спутать с символами исходного текста. Таким образом можно просто вставлять коды. ОК?
И на всякий случай проверять исходный текст: если символ исходного текста совпадает с каким-то символом кода, то ставить маркер.
Ещё лучше идея:
Подбирать для кода такой символ, которого нет в исходном тексте (по мере возможности).
___
Ну и расширяю идею:
Даже если закончатся непохожие символы из таблицы символов, то можно кодировать двумя непохожими символами. А нет - так не получится. Так не надо. Расширение идеи не прокатит.
```
___
Раз мы не используем маркеры, то критерий к сжимаемым словам изменим: - Сжатие частых слов (≥3 символов, ≥2 повторений)
___
Нам нужен отдельный класс для создания списка символов, годных для кодирования. Символы, которыми заменяются слова. Заменяющие символы.
___
Также можно сэкономить контекстное окно, если слегка пренебречь грамматикой и начинать предложения с маленькой буквы.
Добавить в планы: исходный текст, если это не часть программного кода, обрабатывать и заменять все заглавные буквы маленькими, а затем составлять словарик.
___
Создать буфер предсказания на последние 50к знаков исходного текста. Что встречалось, то надо добавить в словарик.
___
